---
title: 软件建模认知3（面向对象）
categories: 软件构造思想
---

### 前言

在架构的设计上，构件粒度的大小是不一定的，也就是说，我们设计思考的单位可以是很大，像前一篇所说的子系统，也可以很小，小到不可继续拆分的类。

所以这一篇主要讨论的是面向对象角度上的架构设计。

### 运用场景

面向对象设计既然是最小粒度的设计单位，那么其构成的很大程度上便是构成我们之前所说的构件。也就是说通过对面向对象设计的方式，我们可以设计出构件，子系统等。

### 实现

对面向对象设计的构件，主要便是分辨运行时对象承担的职责，以及对象间的通信。

面向对象无非便是隐藏信息，组织操作，协调交互，然后完成功能。所以分析时，比较主要的便是分辨出不同的对象需要承担的角色，还有通信时的调用关系。

可以按通信的主动性，将类分类成主动型和被动型。

按类的角色，可以分类成实体类，边界类，控制类，应用逻辑类。

##### 实体类

此种类的类主要是承担封装持久化数据和操作持久化数据的类。也就是说，对应于数据库里的表，还有对表的操作，是被封装在实体类中的。

而实体类又可以分为数据抽象类和包装器类。两者主要的不同是数据抽象类可以将数据和对应数据的操作都封装在数据抽象类里。而包装器类会把
数据当成数据模型类分化出去，而自己只包含定义对数据的操作。

但不管怎样，实体类的角色大体就是封装定义的数据还有对应数据的持久化操作。

##### 边界类

边界类主要是系统构件的边界位置上的类。其主要的功能是处理输入输出和内外界的通信。

一般从被动型的角度上看，有GUI类；从主动型的角度上看，有输入输出类和代理类。那GUI类一般指的是用户交互的界面控件，被动地接收用户的操作。而输入输出类和代理类，一般都是处理外接IO设备信息输入，然后对信息进行响应，继续处理，再到输出等，或者接收其他系统的消息信息的代理类。

从以上分析来看，边界类一般都是处理IO任务和用户交互任务。

##### 控制类

控制类主要的工作是对全体或局部总体上的任务进行协调控制，或者维持状态信息。

从被动型的角度看，有状态机类；从主动型的角度看，有协调者类，计时器类等。对于状态机类，其被动地接收事件而改变自己的状态信息，从而间接地对系统的其他部分进行控制。而对于协调者类和计时器类，都是主动发出控制信息，协调系统其他角色的构件的工作，或者更改其他角色构件的状态。

也就是说，控制类首先是从系统整体协调的角度上来看，控制类为的是使其他类对象有序地，可控地处理任务。

##### 业务逻辑类

业务逻辑类主要封装独立的业务逻辑，会比较频繁地操作构建中其他的实体类，以满足自身的业务逻辑规则与任务。

### 通信

对象间的通信，大多采用的是方法调用的形式，也就是如果一个对象想要和另一个对象进行通信，大多都是调用其接口。

### 总结

以上主要是从面向对象的粒度，来对软件进行架构设计时考虑的内容，主要便是对象需要承担功能的，在系统中对应的角色。

虽说之前我把软件架构的粒度实体定义为构件，但是在最最小的分割粒度下，面向对象设计运用在软件架构方面，也可以将类或对象当成是系统的构件进行认知和思考。