---
title: 关于单元测试与TDD的存在
categories: 软件构造思想
---

### 测试存在的意义

软件测试，有功能测试，集成测试，确认测试等。在软件的开发周期上，其都是出于一个软件开发周期的后半段，也就是一般都是在编码实现之后才进行的流程。虽然在概要设计的时候就要思考和计划后期软件测试，但是测试的主体，或者在某种程度上，唯一的目的是确保软件可以满足前期设计时的功能，以及一些非功能需求，比如性能，可用性等。

### 测试的方式

传统的测试，几乎都是人工进行的。静态审查，动态运行，连调，集成，用户确认。这一切的一切，从我的认识上，都是由类似项目组开发的组长，产品经理，或者测试部门的人来进行人工测试。这没什么毛病，比如组长可以用白盒测试，然后测试组可以用黑盒测试，然后其他更高层面的管理人员或用户来做最后的确认测试。

### 现在测试的概念

现在，测试不再是传统的“测试”。并不是不需要传统的测试，而是测试作为软件开发的流程之一，被赋予了一个新的使命。

在敏捷编程作为主流软件开发思想实践的当下，软件的非功能需求越来越重要，其中包括可维护，可修改，可拓展性等。而从项目本身看来，其中包括项目多个方面的影响因素，比如成本，进度，质量等。

于是人们在经历过软件危机过后，开始思考，如何开发软件，可以使软件的问题尽早暴露，尽早解决，而且解决的成本更小，也就是以相对最小的成本，收获较大的回报。于是测试驱动的概念出现了。

### 为何测试驱动

我的理解，测试驱动的第一要点不是测试，而是软件本身。也就是说，测试驱动主要不是为了得出软件执行的结果正确与否，而是测试带来的需求分析，功能确认的清晰化，系统结构本身的优化，自动化测试的可能，后期软件问题定位较容易，错误修改也更容易，也可以及时发现修改错误，更便于软件重构，以及软件维护，拓展等。

### 测试驱动的要点

测试驱动是一种软件开发思想。他贯穿与软件开发的全过程，而且对软件开发的全员来说，也是要熟记于心的。

测试驱动主要指的是单元测试。

测试先于实现。因为测试驱动的主要核心不是为了测试功能的正确与否（当然，其实也是为了测试正确与否，但是为了和传统测试区分开），而是单元测试带来的，使需求分析功能实现的细化，也就是测试体现需求。而且最重要的是为了满足单元测试，功能实现不得不高度内聚，从而实现了软件结构的优化，便于维护，修改，后期重构。

当然，测试驱动不能“拖后腿”。也就是，测试驱动不能使开发的进度明显下降，成本上升。如果编写单元测试时间成本甚至多于写功能代码，那说实话，测试驱动很可能被抛弃，也不会有人去实践。所以，从开发人员的角度上看，单元测试编写的速度一定要高，时间一定要控制，不能让软件开发好像多了个拖油瓶。

测试驱动取代不了功能，集成，确认测试。因为他们的主要目的压根不同，所以也不可相互取代。但是当然，单元测试某种程度上充当了白盒测试的角色，所以其对之后的测试应该是起到了促进的作用。

### 总结

这篇文章的核心是为了表明测试驱动核心并非为了“测试”，而是为了实现软件开发的某些非功能需求。最最核心的是，系统的结构会因为测试驱动而和之前有较大的改进。

当然，现在有很多开发项目组都没有使用这种思想，大概因为一是缺乏经验，二是对开发人员的编程素质和思想要求较高，成本可能会较高吧。

这边文章并没有深入讲解，甚至跟怎么实践都不搭边，之后会继续学习，深入理解和实践的。