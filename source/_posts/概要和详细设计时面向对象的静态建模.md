---
title: 概要和详细设计时面向对象的静态建模
categories: 面向对象设计
---

### 面向对象推动设计

如果现在公司想要做个产品，这个产品可以是软硬件结合的嵌入式产品，也可以是像word这样的桌面软件，或者是像淘宝京东这样的电子商务网站。我们将这个产品作为单位，然后提出一系列的需求，这些需求我们可以进行分析，细化，然后接着进入下一阶段，也就是概要设计或详细设计。

此时，不管你的软件开发周期模型是类似瀑布，原型，迭代，统一过程，敏捷编程，软件驱动思想是架构驱动，还是领域驱动，还是数据驱动，只要是你以面向对象的设计思路而不是结构化设计的思路，你就必须以uml中用例，模块，类的结构设计的思想来对需求进行细化。

而且对于uml方式对软件进行详细设计的话，就难免会分成静态建模和动态建模，也就是对软件在面向对象设计的范式下，需要考虑到静态结构的，还有软件运行时的动态交互。这篇文章主要介绍静态结构的设计。

### 静态模型构建流程

在手拿用户提出的一条条需求过后，我们如何将需求映射成设计结构呢？uml里的用例图也许会派上用场。在利用用例图对需求进行建模过后，我们一般会得出软件的范围，上下文，内外环境和按一定思路分割成的一个个用例，用例间的关系，外界参与者与内部用例的关系。用例可以用用例图和用例描述来实现。

之后，我们根据用例再进行细化。此时我们会对每一个用例进行细化，对此用例功能角色进行进一步分析和分解，分化出一个个类。因为一个用例可以涉及的面会比较广，比如有数据接收，处理，转移，输出等，所以每个用例可能要对应分析设计出的类的角色可能会不止一个。

之后，在大致知道每个用例会设计出什么角色的类之后，类之间的关系，组成的结构，承担的具体任务，是我们需要分析设计的。因为面向对象的封装继承多态特性为的便是可寻找各个看似散落的类之间的联系，并定义这种联系，然后复用信息和操作，封装信息和操作，最后得出软件在面向对象静态建模方式下的概要详细设计产生的，以类为单位的软件结构。

以上的静态建模流程，好似分成了多步，但其是一个连续的步骤，好像是一只小鸡孵化出来的一系列不同的状态一样，不同的时间点看有不同的形状，但是以连续的视角看的话，其实这个设计流程应该是一气呵成，连续不断的。

### 细化

用例分析，主要就是将文字形式的需求进行分析，形成组织过、分类过的功能需求或非功能需求。一是可以分清软件的内外界限和功能范围，二是对软件的上下文有更深入的理解，三是认识功能与功能间的联系，并利用面向对象的思想，将用例组织成包括和拓展的关系，从而对功能的分配进行分析。此时对于功能的分配还是十分粗粒度的，大体的也就知道参与者，约束，主序列等信息。

在用例分析过后，每个用例需要继续细化，也就是需要分析出用例内，用例外，用例边界，每个地方，需要用类来代替。每一个地方的类，都有其指定的角色。

在系统外部，有系统外部用户类，外部系统类，外部设备类，外部计时器类等。

在系统边界，有与系统外部用户类对应的用户交互对象，有与外部系统类对应的代理对象，有与外部设备类对应的设备I/O边界对象。

在系统内部，有实体类与对象，控制类与对象，应用逻辑类和对象。

实体类是指持久化的数据类。

控制类可以分为协调者类（对其他对象执行顺序的总体协调控制决策），状态相关控制类（更改其他对象状态），计时器类（被定时消息控制的对象或控制其他对象）。

应用逻辑类分为业务逻辑类（封装逻辑，操作实体，为其他类提供操作），算法类（封装重要算法），服务类（为其他类提供服务）等。

之后，可以根据面向对象的继承封装多态的特性，组织已经分好角色的类。

利用关联（类中操作另一个类），泛化（继承），聚合（一个类包含另一个类但生命周期不一样），组合（一个类包含另一个类但生命周期一样），实现（接口与实现接口的类）等组织。

### 总结

以上是面向对象方式涉及的静态建模的初步认识。在上述内容，给我提供了设计软件的一种方案和思路，其与面向对象的思想结合比较紧密，可能会对软件本身架构等产生影响。