---
title: 软件建模认知6（基于构件）
categories: 软件构造思想
---

### 前言

在基于构件的开发方法中，每一个子系统都被设计成一个分布式的独立构件，从而有助于实现分布式的、高度可配置的和基于消息的设计目标。

一个分布式构件是一个具有明确定义接口的并发对象，也是分布和部署的逻辑单元。一个良好设定的构件是能够在不同的应用中复用，而非只能在其原本所属的应用中使用。

复合构件可由其他构件组成，简单构件不由其他构件组成。

### 设计步骤

1. 设计分布式软件体系结构。可在分布式单个节点上运行，构件间所有通信限制为消息通信。构件间的接口要进行定义。

2. 根据面向对象体系结构方式设计简单构建内部。

3. 部署应用。定义应用构建实例，相互连接，映射到包含分布式物理节点的硬件配置上。

### 复合子系统和构件

复合子系统是封装了他所有内部构件的构件。这个构件是逻辑和物理上的容器，无增加功能。也是物理部署的单位。

复合子系统构件内，外都是采用消息的方式进行通信。

### 构件组织准则

1. 物理临近性：需要设计让构件靠近它的物理数据源以保证能快速获取数据，在构件对数据获取速率要求很高时这一点尤为重要。

2. 局部自治性：每个构件实例将部署在一个独立节点上，拥有更多的局部自治性。如果某节点上构件的行为与其他节点相对独立，那么当其他节点失效时，他仍然可以工作。

3. 性能：一个节点内提供了对时间有高要求的功能，构件的性能也会更好并更有预测性。

4. 特定硬件：某些构件的更能实现需要依赖有特殊功能的硬件。

5. IO构件：是对与外部环境交互的构件的统称，包括输入构件，输出构件，IO构件，网络接口构件和系统界面构件。通常设计为有高自治性和靠近物理数据源。通常由多个设备接口对象组成，但也可能包含用于局部控制的控制对象和用于存储本地数据的实体对象。

### 组消息通信模式

构件间的通信涉及一对一与一对多通信。

其中一对多通信称为组播通信，分为广播通信和消息订阅通信。

广播通信所有的构件都可以接收到消息。消息订阅通信只有订阅消息的消费者才可以接到生产者的消息。

### 应用部署

1. 确定构件实例；
2. 连接构件实例；
3. 映射构件实例为物理节点。